<html lang="en-US">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width">
        <title>Piosson Probabilities</title>
        <link rel="stylesheet" href="style.css">

        
    </head>
    <body>
        <h2 id="title">Velocities table</h2>
              t= &nbsp
             <input type="number" id="time" value="0" onchange="calculate()" style="display: inline;">
             <p style="display: inline;" > &nbsp; d = </p>
             <input type="number" id="destance" value="1" onchange="calculate()" style="display: inline;">
             <span id="res">   P(t,d) = 0.3679 </span> 
             <pre id="out">      
             </pre>

             <hr>
             <strong>    Sample code :</strong>
             <pre> 
                 
            function velocity(t, d, f=2) {
            let v = 0;
            for (let k=1; k<=t; k++) v = d/t
            return v.toFixed(f)
                
            }
            <br>
            function doTable() {
                const d = [1.0, 1.5, 2.0, 2.5, 3.0, 3.5]
                let a = d.map((d) => 'd='+d)
                let str = header(a)
                for (let t=1; t<=9;t++) { 
                let a = d.map((d) => velocity (t, d)) 
                str += oneLine(a, t)
                }
                return str
            }
        
            </pre>
             <script>
                    "use strict";
                    function velocity(t, d, f=2) {
                        let v = 0;
                        for (let k=1; k<=t; k++) v = d/t
                        return v.toFixed(f)
                    }
                    function calculate() {
                        let t = Number(time.value)
                        if (!Number.isInteger(t)) {
                        t = Math.round(t); time.value = t
                        }
                        let d = Number(destance.value)
                        res.innerText = "P(t, d) = "+velocity (t, d)
                    }
                    function doTable() {
                        const d = [1.0, 1.5, 2.0, 2.5, 3.0, 3.5]
                        let a = d.map((d) => 'd='+d)
                        let str = header(a)
                        for (let t=1; t<=9;t++) { 
                        let a = d.map((d) => velocity (t, d)) 
                        str += oneLine(a, t)
                        }
                        return str
                    }
                    let header  = (a) => '      '+ a.join('   ')  //pre
                    let oneLine = (a, t) => '\nt='+t+'  '+ a.join('   ')
                        
                       // out.innerText = document.title
                        //sample.innerText = velocity +'\n'+doTable
                        calculate()
                        out.innerText = doTable()

             </script>      
    </body>    
</html>
